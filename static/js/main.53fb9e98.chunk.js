(this["webpackJsonpkoshelek-ru"]=this["webpackJsonpkoshelek-ru"]||[]).push([[0],{42:function(e,n,t){"use strict";t.d(n,"c",(function(){return a})),t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return c}));var a=function(e){return e.exchangePage.initially},r=function(e){return e.exchangePage.bids},c=function(e){return e.exchangePage.asks}},64:function(e,n,t){e.exports=t(93)},69:function(e,n,t){},93:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(17),o=t.n(c),i=(t(69),t(30)),u=t(27),l=t(3),s=t(113),d=t(111);var b=function(){return r.a.createElement(s.a,{"aria-label":"breadcrumb"},r.a.createElement(u.b,{to:"/table"},r.a.createElement(d.a,{color:"inherit"},"Table ")),r.a.createElement(u.b,{to:"/running-line"},r.a.createElement(d.a,{color:"inherit"},"Running Line ")))},f=function(){return r.a.createElement(b,null)},h=t(34),p=t(28);function m(){var e=Object(h.a)(["\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return m=function(){return e},e}function g(){var e=Object(h.a)(["\n    display: inline-block;\n    position: relative;\n    width: 144px;\n    height: 144px;\n    & div {\n        position: absolute;\n        border: 4px solid ",";\n        opacity: 1;\n        border-radius: 50%;\n        animation: "," 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n    }\n    & div:nth-child(2) {\n        animation-delay: -0.5s;\n    }\n\n"]);return g=function(){return e},e}function v(){var e=Object(h.a)(["\n    0% {\n        top: 72px;\n        left: 72px;\n        width: 0;\n        height: 0;\n        opacity: 1;\n        }\n    100% {\n        top: 0px;\n        left: 0px;\n        width: 144px;\n        height: 144px;\n        opacity: 0;\n    }\n"]);return v=function(){return e},e}var E=function(e){var n=e.template,t=e.color,a=void 0===t?"#383333":t,c=r.a.createElement(O,{color:a},r.a.createElement("div",null),r.a.createElement("div",null));switch(n){case"FULL_SCREEN":return r.a.createElement(j,null,c);default:return c}},x=Object(p.b)(v()),O=p.a.div(g(),(function(e){return e.color}),x),j=p.a.div(m()),k=function(e){return function(n){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(E,{template:"FULL_SCREEN"})},r.a.createElement(e,n))}},w=t(42),y=t(22),S=t.n(y),T=t(33),D=t(19),U=t(29),B=0,P=function(e){return e.map((function(e){return{amount:e[0],price:e[1],total:(+e[0]*+e[1]).toFixed(8),id:B++}}))},C=function(e){return e.filter((function(e){return 0!==+e[1]}))},_=t(59),A=t.n(_).a.create({baseURL:"https://api.binance.com"}),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BTCUSDT";return A.get("/api/v3/depth?limit=500&symbol=".concat(e)).then((function(e){return e.data}))},I=function(){var e=arguments;return Object(T.a)(S.a.mark((function n(){var t,a,r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.length>0&&void 0!==e[0]?e[0]:"BTCUSDT",a=new WebSocket("wss://stream.binance.com:9443/ws/".concat(t,"@depth@1000ms")),r={method:"SUBSCRIBE",params:["".concat(t.toLowerCase(),"@depth")],id:1},a.onopen=function(e){console.log("[open] \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e"),console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440"),a.send(JSON.stringify(r))},a.onclose=function(e){e.wasClean?console.log("[close] \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u043e \u0447\u0438\u0441\u0442\u043e, \u043a\u043e\u0434=".concat(e.code," \u043f\u0440\u0438\u0447\u0438\u043d\u0430=").concat(e.reason)):console.log("[close] \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0440\u0432\u0430\u043d\u043e")},a.onerror=function(e){console.log("[error] ".concat(e.message))},n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})))()},R="exchange/SET_BIDS",J="exchange/SET_ASKS",N={initially:!0,bids:[],asks:[]},z=function(e){return{type:"exchange/UPDATE_BIDS",bids:e}},F=function(e){return{type:"exchange/UPDATE_ASKS",asks:e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case R:return Object(U.a)({},e,{bids:Object(D.a)(P(n.bids))});case J:return Object(U.a)({},e,{asks:Object(D.a)(P(n.asks))});case"exchange/UPDATE_BIDS":return Object(U.a)({},e,{bids:[].concat(Object(D.a)(P(n.bids)),Object(D.a)(e.bids.slice(0,-n.bids.length)))});case"exchange/UPDATE_ASKS":return Object(U.a)({},e,{asks:[].concat(Object(D.a)(P(n.asks)),Object(D.a)(e.asks.slice(0,-n.asks.length)))});default:return e}},W=Object(a.lazy)((function(){return Promise.all([t.e(3),t.e(5)]).then(t.bind(null,134))})),H=Object(a.lazy)((function(){return t.e(4).then(t.bind(null,135))})),M=Object(i.b)((function(e){return{initially:Object(w.c)(e)}}),{getDepth:function(e){return function(){var n=Object(T.a)(S.a.mark((function n(t){var a,r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I(e);case 2:return a=n.sent,n.next=5,L(e);case 5:r=n.sent,t((o=r.bids,{type:R,bids:o})),t((c=r.asks,{type:J,asks:c})),console.log(r),a.onmessage=function(e){var n=JSON.parse(e.data);n.u&&n.u>=r.lastUpdateId&&(t(z(C(n.b))),t(F(C(n.a))))};case 10:case"end":return n.stop()}var c,o}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return Object(a.useEffect)((function(){e.getDepth("ETHBTC")}),[e.initially]),r.a.createElement(u.a,null,r.a.createElement(f,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",render:function(){return r.a.createElement(l.a,{to:"/table"})}}),r.a.createElement(l.b,{path:"/table",render:k(W)}),r.a.createElement(l.b,{path:"/running-line",render:k(H)})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=t(21),q=t(60),G=Object($.c)({exchangePage:K}),Q=Object($.d)(G,Object($.a)(q.a));window.store=Q;var V=Q;t(92);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:V},r.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.53fb9e98.chunk.js.map